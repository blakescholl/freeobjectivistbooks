<% content_for :title do %>Sign Up to Read<% end %>

<% content_for :stylesheet do %>
<style>
.page-explanation {
    font-size: 1.4em;
    padding-top: 12px;
    margin-bottom: 0;
    list-style: none;
}

.page-explanation li {
    margin: 0;
}

.submit {
    height: 56px;
    margin-top: 24px;
    background-image: url(/assets/get-book-button.png);
}
</style>
<% end %>

<h1 class="grid_16">Sign Up for Your Free Objectivist Book</h1>
<ul class="grid_12 page-explanation">
    <li>Your profile will be listed for donors to browse.</li>
    <li>A donor will choose you and send you the book directly.</li>
</ul>

<%= form_for @user, url: { action: :submit } do |f| %>
    <div class="grid_8"><%= f.error_messages header_message: "There were problems with your signup", message: nil %></div>
    <div class="clear"></div>

    <h2 class="grid_16">What book do you want to read?</h2>

    <label class="grid_8">
        <input name="book" type="radio" value="atlas" checked>
        Atlas Shrugged (start here if you don't know what to choose!)
    </label>
    <div class="clear"></div>
    <label class="grid_8"><input name="book" type="radio" value="fountainhead"> The Fountainhead</label>
    <div class="clear"></div>
    <label class="grid_8"><input name="book" type="radio" value="wtl"> We the Living</label>
    <div class="clear"></div>
    <label class="grid_8"><input name="book" type="radio" value="vos"> The Virtue of Selfishness</label>
    <div class="clear"></div>
    <label class="grid_8"><input name="book" type="radio" value="cui"> Capitalism: The Unknown Ideal</label>
    <div class="clear"></div>
    <label class="grid_8">
        <input name="book" type="radio" value="opar"> Objectivism: The Philosophy of Ayn Rand (by Leonard Peikoff)
    </label>
    <div class="clear"></div>
    <label class="grid_8">
        <input name="book" type="radio" value="other"> Other: <input name="other_book" type="text" size="50">
    </label>
    <div class="clear"></div>

    <h2 class="grid_16">Why do you want to read it?</h2>

    <textarea class="grid_8" name="reason" cols="35" rows="6"></textarea>
    <div class="clear"></div>

    <h2 class="grid_16">Public profile</h2>

    <%= f.label :name, class: "grid_5" %><div class="clear"></div>
    <%= f.text_field :name, class: "grid_5" %>
    <span class="grid_4 field_with_errors"><%= @user.errors[:name].join(", ") %></span>
    <div class="clear"></div>

    <%= f.label :school, class: "grid_5" %><div class="clear"></div>
    <%= f.text_field :school, class: "grid_5", placeholder: "College, university or high school" %>
    <span class="grid_4 field_with_errors"><%= @user.errors[:school].join(", ") %></span>
    <div class="clear"></div>

    <%= f.label :studying, class: "grid_5" %><div class="clear"></div>
    <%= f.text_field :studying, class: "grid_5", placeholder: "E.g.: architecture, philosophy, business" %>
    <span class="grid_4 field_with_errors"><%= @user.errors[:studying].join(", ") %></span>
    <div class="clear"></div>

    <%= f.label :location, class: "grid_5" %><div class="clear"></div>
    <%= f.text_field :location, class: "grid_5", placeholder: "City and state or country" %>
    <span class="grid_4 field_with_errors"><%= @user.errors[:location].join(", ") %></span>
    <div class="clear"></div>

    <h2 class="grid_16">Private account info</h2>

    <%= f.label :email, class: "grid_5" %><div class="clear"></div>
    <%= f.text_field :email, class: "grid_5" %>
    <span class="grid_4 field_with_errors"><%= @user.errors[:email].join(", ") %></span>
    <div class="clear"></div>

    <%= f.label :password, class: "grid_5" %><div class="clear"></div>
    <%= f.password_field :password, class: "grid_5", placeholder: "So you can log in later" %>
    <span class="grid_4 field_with_errors"><%= @user.errors[:password].join(", ") %></span>
    <div class="clear"></div>

    <%= f.label :password_confirmation, "Confirm password", class: "grid_5" %><div class="clear"></div>
    <%= f.password_field :password_confirmation, class: "grid_5" %>
    <span class="grid_4 field_with_errors"><%= @user.errors[:password_confirmation].join(", ") %></span>
    <div class="clear"></div>

    <%= f.label :address, "Mailing address (for the book)", class: "grid_5" %><div class="clear"></div>
    <%= f.text_area :address, class: "grid_5", rows: 5 %>
    <div class="grid_4">
        <p>Only shared with your donor. You can enter this later.</p>
        <p class="field_with_errors"><%= @user.errors[:address].join(", ") %></p>
    </div>
    <div class="clear"></div>

    <h2 class="grid_16">Your pledge</h2>

    <label class="grid_8">
        <%= check_box_tag :pledge %> I pledge to read this book if a donor sends it to me.
    </label>
    <p class="grid_8"><%= @user.errors[:pledge].join(", ") %></p>
    <div class="clear"></div>

    <%= submit_tag "", class: "grid_4 submit button" %><div class="clear"></div>
<% end %>
